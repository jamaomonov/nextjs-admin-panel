(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{68490:function(e,s,t){Promise.resolve().then(t.bind(t,23168))},23168:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return V}});var a=t(57437),r=t(2265),n=t(59883),i=t(62869),l=t(95186),c=t(67782),d=t(42208),o=t(51884),m=t(89345),x=t(95468),u=t(73247),f=t(73578),h=t(35974),p=t(77992),j=t(26110),b=t(26815),N=t(23060),g=t(94508);let v=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(N.fC,{className:(0,g.cn)("grid gap-2",t),...r,ref:s})});v.displayName=N.fC.displayName;let y=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(N.ck,{ref:s,className:(0,g.cn)("aspect-square h-4 w-4 rounded-full border border-zinc-700 text-zinc-100 ring-offset-zinc-950 focus:outline-none focus-visible:ring-2 focus-visible:ring-zinc-700 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,a.jsx)(N.z$,{className:"flex items-center justify-center",children:(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-zinc-100"})})})});y.displayName=N.ck.displayName;var w=t(51817);function z(e){let{isOpen:s,onClose:t,onSuccess:n,userId:l,userName:c,currentRole:d}=e,[o,m]=(0,r.useState)(d),[x,u]=(0,r.useState)(!1),f=async()=>{if(o===d){t();return}u(!0);try{let e=await fetch("/api/users/".concat(l),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:o})});if(!e.ok)throw Error("Ошибка при обновлении роли: ".concat(e.status));(0,p.Am)({title:"Успешно",description:"Роль пользователя ".concat(c," изменена на ").concat(o)}),n()}catch(e){console.error("Error updating user role:",e),(0,p.Am)({title:"Ошибка",description:"Не удалось обновить роль пользователя",variant:"destructive"})}finally{u(!1),t()}};return(0,a.jsx)(j.Vq,{open:s,onOpenChange:t,children:(0,a.jsxs)(j.cZ,{className:"bg-zinc-900 border-zinc-800 text-zinc-100",children:[(0,a.jsx)(j.fK,{children:(0,a.jsx)(j.$N,{children:"Изменить роль пользователя"})}),(0,a.jsxs)("div",{className:"py-4",children:[(0,a.jsxs)("p",{className:"mb-4",children:["Пользователь: ",(0,a.jsx)("span",{className:"font-medium",children:c})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(v,{value:o,onValueChange:e=>m(e),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(y,{value:"user",id:"user"}),(0,a.jsx)(b.Label,{htmlFor:"user",className:"cursor-pointer",children:"Пользователь"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(y,{value:"moderator",id:"moderator"}),(0,a.jsx)(b.Label,{htmlFor:"moderator",className:"cursor-pointer",children:"Модератор"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(y,{value:"admin",id:"admin"}),(0,a.jsx)(b.Label,{htmlFor:"admin",className:"cursor-pointer",children:"Администратор"})]})]})})]}),(0,a.jsxs)(j.cN,{children:[(0,a.jsx)(i.z,{type:"button",variant:"outline",onClick:t,className:"bg-zinc-800 border-zinc-700 hover:bg-zinc-700",children:"Отмена"}),(0,a.jsxs)(i.z,{onClick:f,disabled:x||o===d,children:[x&&(0,a.jsx)(w.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Сохранить"]})]})]})})}var C=t(64014),S=t(66070),T=t(16831),R=t(53647),k=t(84190),_=t(12339),Z=t(31047),A=t(83774),O=t(13041),E=t(29202);function D(e){let{isOpen:s,onClose:t,user:r}=e,n=e=>{try{return(0,C.WU)(new Date(e),"dd.MM.yyyy HH:mm")}catch(s){return e}},i={phone:"+7 (999) 123-45-67",location:"Москва, Россия",website:"example.com",lastLogin:new Date(Date.now()-1e10*Math.random()).toISOString(),registrationIP:"192.168.1."+Math.floor(255*Math.random()),totalLogins:Math.floor(100*Math.random()),recentActivity:[{action:"Вход в систему",date:new Date(Date.now()-36e5).toISOString()},{action:"Изменение профиля",date:new Date(Date.now()-864e5).toISOString()},{action:"Добавление предмета",date:new Date(Date.now()-1728e5).toISOString()}]};return(0,a.jsx)(j.Vq,{open:s,onOpenChange:t,children:(0,a.jsxs)(j.cZ,{className:"bg-zinc-900 border-zinc-800 text-zinc-100 max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(j.fK,{children:(0,a.jsx)(j.$N,{className:"text-2xl",children:"Информация о пользователе"})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(T.qE,{className:"h-24 w-24",children:[(0,a.jsx)(T.F$,{src:r.avatar||"/placeholder.svg",alt:r.username}),(0,a.jsx)(T.Q5,{className:"bg-zinc-700 text-2xl",children:r.username.charAt(0).toUpperCase()})]}),r.is_online&&(0,a.jsx)("span",{className:"absolute bottom-1 right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-zinc-900"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[r.username,(0,a.jsx)(h.C,{variant:"outline",className:(e=>{switch(e){case"admin":return"border-red-500 bg-red-500/10 text-red-500";case"moderator":return"border-blue-500 bg-blue-500/10 text-blue-500";default:return"border-green-500 bg-green-500/10 text-green-500"}})(r.role),children:r.role}),r.is_online&&(0,a.jsx)(h.C,{variant:"outline",className:"border-green-500 bg-green-500/10 text-green-500",children:"Online"})]}),(0,a.jsxs)("div",{className:"mt-2 space-y-1 text-zinc-300",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 text-zinc-500"}),(0,a.jsx)("span",{children:r.email})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-zinc-500"}),(0,a.jsxs)("span",{children:["Зарегистрирован: ",n(r.created_at)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(A.Z,{className:"h-4 w-4 text-zinc-500"}),(0,a.jsx)("span",{children:i.location})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(O.Z,{className:"h-4 w-4 text-zinc-500"}),(0,a.jsx)("span",{children:i.phone})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(E.Z,{className:"h-4 w-4 text-zinc-500"}),(0,a.jsx)("span",{children:i.website})]})]})]})]}),(0,a.jsxs)(_.Tabs,{defaultValue:"activity",className:"w-full",children:[(0,a.jsxs)(_.TabsList,{className:"bg-zinc-900 border border-zinc-800",children:[(0,a.jsx)(_.TabsTrigger,{value:"activity",children:"Активность"}),(0,a.jsx)(_.TabsTrigger,{value:"security",children:"Безопасность"}),(0,a.jsx)(_.TabsTrigger,{value:"items",children:"Предметы"})]}),(0,a.jsx)(_.TabsContent,{value:"activity",className:"space-y-4 mt-4",children:(0,a.jsxs)(S.Zb,{className:"bg-zinc-800 border-zinc-700",children:[(0,a.jsx)(S.Ol,{children:(0,a.jsx)(S.ll,{className:"text-lg",children:"Последние действия"})}),(0,a.jsx)(S.aY,{className:"space-y-4",children:i.recentActivity.map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between items-center border-b border-zinc-700 pb-2 last:border-0 last:pb-0",children:[(0,a.jsx)("span",{children:e.action}),(0,a.jsx)("span",{className:"text-sm text-zinc-400",children:n(e.date)})]},s))})]})}),(0,a.jsx)(_.TabsContent,{value:"security",className:"space-y-4 mt-4",children:(0,a.jsxs)(S.Zb,{className:"bg-zinc-800 border-zinc-700",children:[(0,a.jsx)(S.Ol,{children:(0,a.jsx)(S.ll,{className:"text-lg",children:"Информация о безопасности"})}),(0,a.jsx)(S.aY,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-sm text-zinc-400",children:"Последний вход"}),(0,a.jsx)("p",{children:n(i.lastLogin)})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-sm text-zinc-400",children:"IP при регистрации"}),(0,a.jsx)("p",{children:i.registrationIP})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-sm text-zinc-400",children:"Всего входов"}),(0,a.jsx)("p",{children:i.totalLogins})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-sm text-zinc-400",children:"Двухфакторная аутентификация"}),(0,a.jsx)(h.C,{variant:"outline",className:"border-red-500 bg-red-500/10 text-red-500",children:"Отключена"})]})]})})]})}),(0,a.jsx)(_.TabsContent,{value:"items",className:"space-y-4 mt-4",children:(0,a.jsxs)(S.Zb,{className:"bg-zinc-800 border-zinc-700",children:[(0,a.jsx)(S.Ol,{children:(0,a.jsx)(S.ll,{className:"text-lg",children:"Предметы пользователя"})}),(0,a.jsx)(S.aY,{children:(0,a.jsx)("p",{className:"text-zinc-400",children:"У пользователя нет предметов или они недоступны для просмотра."})})]})})]})]})]})})}var M=t(866);function I(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,g.cn)("animate-pulse rounded-md bg-zinc-800",s),...t})}function V(){let{toast:e}=(0,p.pm)(),[s,t]=(0,r.useState)([]),[j,b]=(0,r.useState)(!0),[N,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(null),w=(0,M.X)(),[_,Z]=(0,r.useState)(!1),[A,O]=(0,r.useState)(!1),[E,V]=(0,r.useState)(null),[L,F]=(0,r.useState)(1),[Y,X]=(0,r.useState)(0),[$,P]=(0,r.useState)("all"),U=(0,r.useCallback)(async function(s){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";try{b(!0),y(null);let e=(s-1)*10,r=await fetch("/api/users",{cache:"no-store"});if(!r.ok)throw Error("API Error: ".concat(r.status));let n=await r.json(),i=n;"all"!==a&&(i=n.filter(e=>e.role===a));let l=i.map(e=>({...e,is_online:Math.random()>.5})).slice(e,e+10);t(l),X(i.length)}catch(s){console.error("Error fetching users:",s),y("Не удалось загрузить список пользователей"),e({title:"Ошибка",description:"Не удалось загрузить список пользователей",variant:"destructive"})}finally{b(!1)}},[e]);(0,r.useEffect)(()=>{U(L,$)},[L,$,U]);let H=e=>{g(e),F(1)},Q=s.filter(e=>e.username.toLowerCase().includes(N.toLowerCase())||e.email.toLowerCase().includes(N.toLowerCase())),q=e=>{try{return(0,C.WU)(new Date(e),"dd.MM.yyyy HH:mm")}catch(s){return e}},W=e=>{switch(e){case"admin":return"border-red-500 bg-red-500/10 text-red-500";case"moderator":return"border-blue-500 bg-blue-500/10 text-blue-500";default:return"border-green-500 bg-green-500/10 text-green-500"}},B=e=>e.charAt(0).toUpperCase(),G=e=>{F(e)},K=e=>{let{user:s}=e;return(0,a.jsx)(S.Zb,{className:"bg-zinc-900 border-zinc-800 mb-4",children:(0,a.jsxs)(S.aY,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(T.qE,{children:[(0,a.jsx)(T.F$,{src:s.avatar||"/placeholder.svg",alt:s.username}),(0,a.jsx)(T.Q5,{className:"bg-zinc-700",children:B(s.username)})]}),s.is_online&&(0,a.jsx)("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-zinc-900"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:s.username}),(0,a.jsx)("p",{className:"text-sm text-zinc-400",children:s.email})]})]}),(0,a.jsxs)(k.h_,{children:[(0,a.jsx)(k.$F,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[(0,a.jsx)(c.Z,{size:16}),(0,a.jsx)("span",{className:"sr-only",children:"Действия"})]})}),(0,a.jsxs)(k.AW,{align:"end",className:"bg-zinc-900 border-zinc-800",children:[(0,a.jsxs)(k.Xi,{className:"text-zinc-300 hover:text-zinc-100 focus:text-zinc-100 focus:bg-zinc-800 cursor-pointer",onClick:()=>{V(s),O(!0)},children:[(0,a.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Просмотр"})]}),(0,a.jsxs)(k.Xi,{className:"text-zinc-300 hover:text-zinc-100 focus:text-zinc-100 focus:bg-zinc-800 cursor-pointer",onClick:()=>{V(s),Z(!0)},children:[(0,a.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Изменить роль"})]}),(0,a.jsxs)(k.Xi,{className:"text-zinc-300 hover:text-zinc-100 focus:text-zinc-100 focus:bg-zinc-800 cursor-pointer",children:[(0,a.jsx)(m.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Отправить сообщение"})]}),(0,a.jsxs)(k.Xi,{className:"text-red-500 hover:text-red-400 focus:text-red-400 focus:bg-zinc-800 cursor-pointer",children:[(0,a.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Блокировать"})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[(0,a.jsx)(h.C,{variant:"outline",className:W(s.role),children:s.role}),(0,a.jsx)(h.C,{variant:"outline",className:"border-zinc-700 bg-zinc-800 text-zinc-300",children:q(s.created_at)})]})]})})},J=()=>w?(0,a.jsx)(S.Zb,{className:"bg-zinc-900 border-zinc-800 mb-4",children:(0,a.jsxs)(S.aY,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(I,{className:"h-10 w-10 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(I,{className:"h-5 w-32 mb-2"}),(0,a.jsx)(I,{className:"h-4 w-40"})]})]}),(0,a.jsx)(I,{className:"h-8 w-8 rounded-md"})]}),(0,a.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,a.jsx)(I,{className:"h-6 w-20"}),(0,a.jsx)(I,{className:"h-6 w-32"})]})]})}):(0,a.jsxs)(f.SC,{children:[(0,a.jsx)(f.pj,{children:(0,a.jsx)(I,{className:"h-10 w-40"})}),(0,a.jsx)(f.pj,{children:(0,a.jsx)(I,{className:"h-5 w-48"})}),(0,a.jsx)(f.pj,{children:(0,a.jsx)(I,{className:"h-6 w-20"})}),(0,a.jsx)(f.pj,{children:(0,a.jsx)(I,{className:"h-5 w-32"})}),(0,a.jsx)(f.pj,{className:"text-right",children:(0,a.jsx)(I,{className:"h-8 w-8 ml-auto"})})]});return(0,a.jsxs)(n.default,{children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Users"}),(0,a.jsx)("p",{className:"text-zinc-400",children:"Manage user accounts and permissions"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.Z,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-zinc-500"}),(0,a.jsx)(l.I,{type:"search",placeholder:"Search users...",className:"pl-8 bg-zinc-900 border-zinc-800 focus-visible:ring-zinc-700",value:N,onChange:e=>H(e.target.value)})]}),(0,a.jsxs)(R.Ph,{value:$,onValueChange:e=>{P(e),F(1)},children:[(0,a.jsx)(R.i4,{className:"bg-zinc-900 border-zinc-800 w-[180px]",children:(0,a.jsx)(R.ki,{placeholder:"Filter by role"})}),(0,a.jsxs)(R.Bw,{className:"bg-zinc-900 border-zinc-800",children:[(0,a.jsx)(R.Ql,{value:"all",children:"All roles"}),(0,a.jsx)(R.Ql,{value:"admin",children:"Admin"}),(0,a.jsx)(R.Ql,{value:"moderator",children:"Moderator"}),(0,a.jsx)(R.Ql,{value:"user",children:"User"})]})]})]})]}),v&&!j&&(0,a.jsx)("div",{className:"bg-red-900/20 border border-red-800 text-red-300 p-4 rounded-lg mb-6",children:(0,a.jsx)("p",{children:v})}),w?(0,a.jsx)(a.Fragment,{children:j?[,,,].fill(0).map((e,s)=>(0,a.jsx)(J,{},s)):Q.length>0?Q.map(e=>(0,a.jsx)(K,{user:e},e.id)):(0,a.jsx)("div",{className:"text-center py-8 text-zinc-400",children:N?"Ничего не найдено по вашему запросу":"Пользователи не найдены"})}):(0,a.jsx)("div",{className:"rounded-md border border-zinc-800 overflow-hidden",children:(0,a.jsxs)(f.iA,{children:[(0,a.jsx)(f.xD,{className:"bg-zinc-900",children:(0,a.jsxs)(f.SC,{className:"hover:bg-zinc-900/80 border-zinc-800",children:[(0,a.jsx)(f.ss,{className:"text-zinc-400",children:"Name"}),(0,a.jsx)(f.ss,{className:"text-zinc-400",children:"Email"}),(0,a.jsx)(f.ss,{className:"text-zinc-400",children:"Role"}),(0,a.jsx)(f.ss,{className:"text-zinc-400",children:"Created At"}),(0,a.jsx)(f.ss,{className:"text-zinc-400 text-right",children:"Actions"})]})}),(0,a.jsx)(f.RM,{children:j?[,,,,,].fill(0).map((e,s)=>(0,a.jsx)(J,{},s)):Q.length>0?Q.map(e=>(0,a.jsxs)(f.SC,{className:"hover:bg-zinc-900/50 border-zinc-800",children:[(0,a.jsx)(f.pj,{className:"font-medium",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(T.qE,{children:[(0,a.jsx)(T.F$,{src:e.avatar||"/placeholder.svg",alt:e.username}),(0,a.jsx)(T.Q5,{className:"bg-zinc-700",children:B(e.username)})]}),e.is_online&&(0,a.jsx)("span",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 bg-green-500 rounded-full border-2 border-zinc-900"})]}),e.username]})}),(0,a.jsx)(f.pj,{children:e.email}),(0,a.jsx)(f.pj,{children:(0,a.jsx)(h.C,{variant:"outline",className:W(e.role),children:e.role})}),(0,a.jsx)(f.pj,{children:q(e.created_at)}),(0,a.jsx)(f.pj,{className:"text-right",children:(0,a.jsxs)(k.h_,{children:[(0,a.jsx)(k.$F,{asChild:!0,children:(0,a.jsxs)(i.z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-zinc-400 hover:text-zinc-100",children:[(0,a.jsx)(c.Z,{size:16}),(0,a.jsx)("span",{className:"sr-only",children:"Действия"})]})}),(0,a.jsxs)(k.AW,{align:"end",className:"bg-zinc-900 border-zinc-800",children:[(0,a.jsxs)(k.Xi,{className:"text-zinc-300 hover:text-zinc-100 focus:text-zinc-100 focus:bg-zinc-800 cursor-pointer",onClick:()=>{V(e),O(!0)},children:[(0,a.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Просмотр"})]}),(0,a.jsxs)(k.Xi,{className:"text-zinc-300 hover:text-zinc-100 focus:text-zinc-100 focus:bg-zinc-800 cursor-pointer",onClick:()=>{V(e),Z(!0)},children:[(0,a.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Изменить роль"})]}),(0,a.jsxs)(k.Xi,{className:"text-zinc-300 hover:text-zinc-100 focus:text-zinc-100 focus:bg-zinc-800 cursor-pointer",children:[(0,a.jsx)(m.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Отправить сообщение"})]}),(0,a.jsxs)(k.Xi,{className:"text-red-500 hover:text-red-400 focus:text-red-400 focus:bg-zinc-800 cursor-pointer",children:[(0,a.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Блокировать"})]})]})]})})]},e.id)):(0,a.jsx)(f.SC,{children:(0,a.jsx)(f.pj,{colSpan:5,className:"h-24 text-center",children:N?"Ничего не найдено по вашему запросу":"Пользователи не найдены"})})})]})}),!j&&Q.length>0&&(0,a.jsx)(()=>{let e=Math.ceil(Y/10);return(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,a.jsxs)("div",{className:"text-sm text-zinc-400",children:["Показано ",Math.min((L-1)*10+1,Y)," -"," ",Math.min(10*L,Y)," из ",Y]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>G(L-1),disabled:1===L,className:"bg-zinc-800 border-zinc-700 hover:bg-zinc-700",children:"Назад"}),Array.from({length:Math.min(e,5)},(s,t)=>{let r=t+1;return e>5&&L>3&&(r=L-3+t)>e&&(r=e-(4-t)),(0,a.jsx)(i.z,{variant:L===r?"default":"outline",size:"sm",onClick:()=>G(r),className:L===r?"bg-zinc-700":"bg-zinc-800 border-zinc-700 hover:bg-zinc-700",children:r},r)}),(0,a.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>G(L+1),disabled:L===e,className:"bg-zinc-800 border-zinc-700 hover:bg-zinc-700",children:"Вперед"})]})]})},{}),E&&(0,a.jsx)(z,{isOpen:_,onClose:()=>Z(!1),onSuccess:()=>{Z(!1),U(L,$)},userId:E.id,userName:E.username,currentRole:E.role}),E&&(0,a.jsx)(D,{isOpen:A,onClose:()=>O(!1),user:E})]})}},35974:function(e,s,t){"use strict";t.d(s,{C:function(){return l}});var a=t(57437);t(2265);var r=t(90535),n=t(94508);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(i({variant:t}),s),...r})}},66070:function(e,s,t){"use strict";t.d(s,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},eW:function(){return m},ll:function(){return c}});var a=t(57437),r=t(2265),n=t(94508);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});i.displayName="Card";let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...r})});l.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...r})});m.displayName="CardFooter"},26110:function(e,s,t){"use strict";t.d(s,{$N:function(){return f},Be:function(){return h},Vq:function(){return c},cN:function(){return u},cZ:function(){return m},fK:function(){return x}});var a=t(57437),r=t(2265),n=t(95885),i=t(32489),l=t(94508);let c=n.fC;n.xz;let d=n.h_;n.x8;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.aV,{ref:s,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});o.displayName=n.aV.displayName;let m=r.forwardRef((e,s)=>{let{className:t,children:r,...c}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(o,{}),(0,a.jsxs)(n.VY,{ref:s,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full","max-h-[calc(100vh-2rem)] overflow-y-auto",t),...c,children:[r,(0,a.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=n.VY.displayName;let x=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};x.displayName="DialogHeader";let u=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};u.displayName="DialogFooter";let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.Dx,{ref:s,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});f.displayName=n.Dx.displayName;let h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.dk,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});h.displayName=n.dk.displayName},95186:function(e,s,t){"use strict";t.d(s,{I:function(){return i}});var a=t(57437),r=t(2265),n=t(94508);let i=r.forwardRef((e,s)=>{let{className:t,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...i})});i.displayName="Input"},26815:function(e,s,t){"use strict";t.d(s,{Label:function(){return d}});var a=t(57437),r=t(2265),n=t(6394),i=t(90535),l=t(94508);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.f,{ref:s,className:(0,l.cn)(c(),t),...r})});d.displayName=n.f.displayName},53647:function(e,s,t){"use strict";t.d(s,{Bw:function(){return h},Ph:function(){return o},Ql:function(){return p},i4:function(){return x},ki:function(){return m}});var a=t(57437),r=t(2265),n=t(14596),i=t(40875),l=t(22135),c=t(30401),d=t(94508);let o=n.fC;n.ZA;let m=n.B4,x=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(n.xz,{ref:s,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[r,(0,a.jsx)(n.JO,{asChild:!0,children:(0,a.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=n.xz.displayName;let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.u_,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})});u.displayName=n.u_.displayName;let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.$G,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})});f.displayName=n.$G.displayName;let h=r.forwardRef((e,s)=>{let{className:t,children:r,position:i="popper",...l}=e;return(0,a.jsx)(n.h_,{children:(0,a.jsxs)(n.VY,{ref:s,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...l,children:[(0,a.jsx)(u,{}),(0,a.jsx)(n.l_,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(f,{})]})})});h.displayName=n.VY.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.__,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=n.__.displayName;let p=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsxs)(n.ck,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.wU,{children:(0,a.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(n.eT,{children:r})]})});p.displayName=n.ck.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.Z0,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=n.Z0.displayName},73578:function(e,s,t){"use strict";t.d(s,{RM:function(){return c},SC:function(){return d},iA:function(){return i},pj:function(){return m},ss:function(){return o},xD:function(){return l}});var a=t(57437),r=t(2265),n=t(94508);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,n.cn)("w-full caption-bottom text-sm",t),...r})})});i.displayName="Table";let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("thead",{ref:s,className:(0,n.cn)("[&_tr]:border-b",t),...r})});l.displayName="TableHeader";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tbody",{ref:s,className:(0,n.cn)("[&_tr:last-child]:border-0",t),...r})});c.displayName="TableBody",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tfoot",{ref:s,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r})}).displayName="TableFooter";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tr",{ref:s,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r})});d.displayName="TableRow";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("th",{ref:s,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r})});o.displayName="TableHead";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("td",{ref:s,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r})});m.displayName="TableCell",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("caption",{ref:s,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",t),...r})}).displayName="TableCaption"},12339:function(e,s,t){"use strict";t.d(s,{Tabs:function(){return l},TabsContent:function(){return o},TabsList:function(){return c},TabsTrigger:function(){return d}});var a=t(57437),r=t(2265),n=t(20271),i=t(94508);let l=n.fC,c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.aV,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});c.displayName=n.aV.displayName;let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});d.displayName=n.xz.displayName;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});o.displayName=n.VY.displayName},77992:function(e,s,t){"use strict";t.d(s,{Am:function(){return m},pm:function(){return x}});var a=t(2265);let r=0,n=new Map,i=e=>{if(n.has(e))return;let s=setTimeout(()=>{n.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,s)},l=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},c=[],d={toasts:[]};function o(e){d=l(d,e),c.forEach(e=>{e(d)})}function m(e){let{...s}=e,t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>o({type:"DISMISS_TOAST",toastId:t});return o({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function x(){let[e,s]=a.useState(d);return a.useEffect(()=>(c.push(s),()=>{let e=c.indexOf(s);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},866:function(e,s,t){"use strict";t.d(s,{X:function(){return r}});var a=t(2265);function r(){let[e,s]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=()=>{s(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e}}},function(e){e.O(0,[441,681,582,447,624,852,883,971,117,744],function(){return e(e.s=68490)}),_N_E=e.O()}]);